{% extends 'base.html' %}
{% block title %}Cursos{% endblock %}
{% load static %}

{% block content %}

<main class="container" style="display: flex; flex-direction: column; gap: 32px ;">
  <div id="carouselExampleAutoplaying" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-inner">
      {% for posts_recents in posts_recents %}
      <div class="carousel-item active">
        <img src="{{ posts_recents.image.url }}" class="d-block" alt="..." style="max-height: 400px; background-size: cover; width: 100%;">
      </div>
      {% endfor %}
    </div>

    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleAutoplaying" data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleAutoplaying" data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Next</span>
    </button>
  </div>

  {% for posts_relevant in posts_relevant %}
  <div class="p-4 p-md-5 mb-4 rounded text-body-emphasis bg-body-secondary">
    <div class="col-lg-6 px-0">
      <h1 class="display-4 fst-italic">{{ posts_relevant.title }}</h1>
      <p class="lead my-3">{{ posts_relevant.content }}</p>
      <p class="lead mb-0"><a href="{% url 'detail' posts_relevant.id %}" class="text-body-emphasis fw-bold">Continue lendo...</a></p>
    </div>
  </div>
  {% endfor %}

  <div class="row mb-2">
    {% for posts_featured in posts_featured %}
    <div class="col-md-6">
      <div class="row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
        <div class="col p-4 d-flex flex-column position-static">
          <strong class="d-inline-block mb-2 text-primary-emphasis">{{ posts_featured.category }}</strong>
          <h3 class="mb-0">{{ posts_featured.title }}</h3>
          <div class="mb-1 text-body-secondary">{{ posts_featured.updated }}</div>
          <p class="card-text mb-auto">{{ posts_featured.content }}</p>
          <a href="{% url 'detail' posts_featured.id %}" class="icon-link gap-1 icon-link-hover stretched-link">
            Continue lendo
            <svg class="bi"><use xlink:href="#chevron-right"></use></svg>
          </a>
        </div>
        <div class="col-auto d-none d-lg-block" style="width: 200px; height: 250px;">
          <img src="{{ posts_featured.image.url }}" alt="">
        </div>
      </div>
    </div>
    {% endfor %}
  </div>

  <section style="display: flex; width: 100%; justify-content: center; gap: 60px;">
    {% for categories in categories %}
      <div class="row">
        <div class="col-lg-4"
          style="width: 420px; display: flex; flex-direction: column; align-items: center; text-align: center; word-break: break-all;">
          <img class="bd-placeholder-img rounded-circle" width="140" height="140" role="img" aria-label="Placeholder"
            src="{{ categories.image.url }}" />
          <h2 class="fw-normal">{{ categories.name }}</h2>
          <p style="display: -webkit-box; -webkit-line-clamp: 3;-webkit-box-orient: vertical;
          overflow: hidden;">{{ categories.description }}</p>
          <p><a class="btn btn-secondary" href="{% url 'detail_category' categories.id %}">Ver Mais Â»</a></p>
        </div>
      </div>
    {% endfor %}
  </section>
</main>
{% endblock %}